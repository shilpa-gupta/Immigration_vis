<!DOCTYPE html>
<html lang=en>
<head>
  <meta charset=utf-8>
  <title>Radial plots</title>
  <link rel="stylesheet" type="text/css" href="../css/style.css" />
  <link href="../css/app-v1.css" rel="stylesheet" media="all">
    <script src="../js/app-v1.js"></script>
</head>
<body>
<div id="main">
    <div id="header">
        <div id="logo">
            <div id="logo_text">
                <h1><a href="index.html">Immigration<span class="logo_colour">Visualization</span></a></h1>
                <h2>visualize how people move across the world</h2>
            </div>
        </div>
        <div id="menubar">
            <ul id="menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="bar_chart.html">Bar Chart</a></li>
                <li class="selected"><a href="radial_plot.html">Radial Plot</a></li>
                <li><a href="map_vis.html">Map</a></li>
            </ul>
        </div>
    </div>
  <div id=container class="container">
      <div>
          <p style="
        font-size: 20px;
        word-wrap: break-word;
        letter-spacing: inherit;
        margin-left: 100px;
        margin-right: 10px;
        margin-top: 20px;
        font-style: italic;
        text-align: center">
          In this section we grouped countries according to regions and plotted on the chord diagram, to ensure that all countries are plotted in a structured manner.<br>
              Whenever mouse is hovered on the arc, the corresponding countryâ€™s intake and outtake values are shown on tool tip.<br>
              Whenever the arc is clicked the region is expanded into the countries it composes of and clicking on any of the country would show the migration patterns of that country.<br>
              Also the size of the chord connecting two regions or countries signifies the number of people migrating.
          </p>>
      </div>
    <div id="diagram"></div>
  </div>

  </div>

  <script>
    // help
    (function() {
      var help = d3.select('#help');
      console.log("hello")
      help.on('click', function() {
        var isActive = help.classed('active');

        help
          .classed('active', !isActive)
          .transition()
          .style('width', isActive ? '30px' : '572px');
      });

      function helpOffset() {
        var offset = Math.max((document.body.clientWidth - document.getElementById('container').clientWidth) / 2, 0);

        help.style('right', offset + 'px');
      }
      d3.select(window).on('resize.help-resize', helpOffset);
      helpOffset();
    })();
  </script>


  <script>
    (function() {
      var datafile = '../json/migrations.json';
      var aLittleBit = Math.PI / 100000;

      d3.json(datafile, function(data) {
        var now = 2005;
        var chart = Globalmigration.chart(data, {
          element: '#diagram',
          now: now,
          animationDuration: 500,
          margin: 125,
          arcPadding: 0.04,
          layout: {
            alpha: 0,
            threshold: 50000,
            labelThreshold: 5000,

            colors: 'dc3912 333300 109618 0099c6 dd4477 b82e2e 316395 994499 22aa99 aaaa11'.split(' ').map(function(c) { return '#' + c; })
          }
        });
        chart.draw(now);
      });
    })();

  </script>


  <script>
    (function() {
      function loadScript(d,s,l,id){
        console.log("hello2")
        var js,
        fjs=d.getElementsByTagName(s)[0],
        p=/^http:/.test(d.location)?'http':'https';
        if(!id || !d.getElementById(id)){
          js=d.createElement(s);
          js.id=id;
          js.src=p+'://' + l;
          fjs.parentNode.insertBefore(js,fjs);
        }
      }
    })

  </script>

</body>
</html>
